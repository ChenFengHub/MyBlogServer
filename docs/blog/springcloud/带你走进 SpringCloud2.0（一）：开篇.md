# 带你走进 SpringCloud2.0（一）：开篇

::: tip 学习前置
有 SpringBoot 使用经验
:::

## 架构演进

### 单机架构
* 介绍：我们最早接触的 ssh/ssm 项目就是采用单机架构。其适合开发小型项目
* 优点：开发简单，一两个人就能完成项目

### 分布式架构
* 产生背景：随着项目功能增多，项目规模变大，项目就需要增加开发人员。这个过程就可能出现项目任务不易分配，代码提交容易冲突的问题。这时分布式架构就出现了
* 介绍：分布式架构会将一个项目根据业务，拆分为多个子项目。每个项目分配一两个人开发即可
* 优点：任务易分配，代码提交不易冲突

### SOA 架构
* 产生背景：在分布式项目开发过程中，项目之间要调用接口，要保存项目的 ip 等依赖信息；当项目规模继续变大，子项目数目继续变多，项目间的依赖信息会变得很难管理，这时 SOA 架构就应运而生。
* 介绍：SOA 首先会将项目的视图层去除，只保留逻辑层，即我们常说的前后端分离后的后端服务。SOA 架构的框架会实现一个单点注册中心，可以管理服务信息；多个服务之间调用接口，只要从注册中心获取要调用的服务信息，即可调用接口
* 优点：前后端分离使得任务分配更简单，解决了服务之间依赖信息难以管理的问题

### 微服务架构
* 产生背景：在使用 SOA 框架开发过程中，注册中心存在单点故障问题，缺少本地负载均衡和服务保护等功能，这些都需要程序员自己开发，工作量非常大；而且 SOA 架构采用 SOAP（Http + XML） 协议进行服务间的数据交互，比较消耗带宽，这时微服务架构就应运而生
* 介绍：微服务架构注册中心支持集群和注册信息同步，一般有现成的本地负载均衡和服务保护等机制，尤其是 SpringCloud，它提供一整套微服务解决方案，可以节省我们寻找第三方框架实现解决方案的时间
* 优点
    * 采用 RestfulAPI 进行通信，相对 SOAP，带宽消耗低
    * 注册中心支持集群和注册信息同步
    * 成熟的微服务框架会提供一整套微服务解决方案，方便开发出高可用的服务

## SpringCloud 简介
* SpringCloud 提供了全家桶解决方案，其实现如下功能
  * 服务治理：通过 Eureka 注册中心组件实现功能。
  * 本地负载均衡：通过 Ribbon 组件实现本地负载均衡功能。
  * 声明式接口调用：通过 Feign 组件实现功能。
  * 分布式配置中心：通过 Config 组件实现功能，由于 Config 没有操作界面不人性化，后面直接整合携程的 Apollo。
  * 网关：通过 Zuul 网关组件实现网关功能。
  * 服务跟踪：通过 Sleuth 组件实现功能。


* 分布式服务开发过程，要保证服务高可用，还要使用到：分布式锁，分布式任务调用，分布式事务，要考虑到架构安全性：接口幂等性设计、常见互联网攻击手段的预防等等，这些我们这里先不介绍，敬请期待
